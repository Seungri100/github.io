<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> í¬í•­ì—­ â¡ í•œë™ëŒ€ íƒì‹œíŒŸ</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #f8f9fa;
    }

    .filter-form {
      width: 100%;
      max-width: calc(170px * 5 + 30px * 4);
      margin: 20px auto;
      padding: 20px;
      box-sizing: border-box;
      background-color: white;
      border: 1px solid #ccc;
      border-radius: 12px;
    }

    fieldset {
      border: none;
    }

    .filter-row {
      display: flex;
      justify-content: space-between;
      gap: 40px;
      flex-wrap: wrap;
    }

    .filter-column {
      flex: 1;
      min-width: 300px;
    }

    .filter-group {
      display: flex;
      align-items: flex-start;
      margin-bottom: 16px;
    }

    .filter-label {
      width: 90px;
    }

    .filter-options {
      flex: 1;
    }

    .filter-options input[type="text"],
    .filter-options input[type="date"] {
      width: 100%;
      box-sizing: border-box;
    }

    .submit-wrap {
      text-align: right;
      margin-top: 10px;
    }

    button {
      background-color: #003366;
      color: white;
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
    }

    input[type="checkbox"].blue-check,
    input[type="radio"].blue-radio {
      display: none;
    }

    label.custom-checkbox,
    label.custom-radio {
      display: inline-flex;
      align-items: center;
      cursor: pointer;
      margin-right: 10px;
      position: relative;
      padding-left: 24px;
    }

    label.custom-checkbox::before,
    label.custom-radio::before {
      content: "";
      position: absolute;
      left: 0;
      top: 2px;
      width: 16px;
      height: 16px;
      border: 2px solid #ccc;
      background-color: white;
      box-sizing: border-box;
    }

    label.custom-radio::before {
      border-radius: 50%;
    }

    input[type="checkbox"].blue-check:checked + label.custom-checkbox::before {
      background-color: #007BFF;
      border-color: #007BFF;
      background-image: url('data:image/svg+xml;utf8,<svg fill="white" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 10.8L3.2 8 2 9.2l4 4 8-8L12.8 4l-6.8 6.8z"/></svg>');
      background-size: 12px;
      background-repeat: no-repeat;
      background-position: center;
    }

    input[type="radio"].blue-radio:checked + label.custom-radio::before {
      background-color: #007BFF;
      border-color: #007BFF;
      background-image: radial-gradient(circle, white 40%, transparent 41%);
      background-size: 8px 8px;
      background-repeat: no-repeat;
      background-position: center;
    }

    h2 {
      text-align: center;
      border: 2px solid #ddd;
      border-radius: 12px;
      padding: 12px 24px;
      margin: 10px auto;
      width: fit-content;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
      background-color: white;
    }

    .room-list-grid {
      display: grid;
      grid-template-columns: repeat(5, 170px);
      grid-template-rows: auto;
      row-gap: 30px;
      column-gap: 30px;
      justify-content: center;
      padding: 20px;
    }

    .room-card-onlyg,
    .room-card-onlym,
    .room-card-onlygm {
      width: 170px;
      height: 220px;
      border: 1.5px solid #ddd;
      border-radius: 16px;
      background-color: #ffffff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .room-card-onlyg:hover,
    .room-card-onlym:hover,
    .room-card-onlygm:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.1);
    }

    .room-card-onlyg .room-time { background-color: #ffe6f0; }
    .room-card-onlym .room-time { background-color: #e0f3ff; }
    .room-card-onlygm .room-time { background-color: #f0f0f0; }

    .room-time {
      text-align: center;
      border-bottom: 1px solid #ddd;
      font-size: 13px;
      padding: 6px 0;
      font-weight: 500;
    }

    .room-member img {
      width: 100%;
      height: 90px;
      object-fit: cover;
      border-bottom: 1px solid #ddd;
    }

    .room-tags {
      padding: 6px 10px;
      flex-grow: 1;
      display: flex;
      align-items: flex-start;
    }

    .room-tags ul {
      padding-left: 16px;
      margin: 0;
      list-style-type: disc;
      width: 100%;
      overflow-wrap: break-word;
    }

    .room-tags li {
      font-size: 11px;
      margin-bottom: 2px;
      white-space: normal;
      overflow: visible;
      text-overflow: clip;
    }
  </style>
</head>
<body>

  <!-- í•„í„° ì˜ì—­ -->
  <form class="filter-form">
    <fieldset>
      <legend>ğŸ”¦í•„í„°</legend>
      <div class="filter-row">
        <div class="filter-column">
          <div class="filter-group">
            <div class="filter-label">ìºë¦¬ì–´:</div>
            <div class="filter-options">
              <input type="checkbox" id="carrier" name="carrier">
              <label for="carrier">ìºë¦¬ì–´</label><br>

              <input type="checkbox" id="small" name="carrier_size" class="blue-check" checked>
              <label for="small" class="custom-checkbox">ì†Œ</label>

              <input type="checkbox" id="medium" name="carrier_size" class="blue-check" checked>
              <label for="medium" class="custom-checkbox">ì¤‘</label>

              <input type="checkbox" id="large" name="carrier_size" class="blue-check" checked>
              <label for="large" class="custom-checkbox">ëŒ€</label>
            </div>
          </div>

          <div class="filter-group">
            <div class="filter-label">ì‹œê°„ëŒ€:</div>
            <div class="filter-options">
              <input type="checkbox" id="morning" class="blue-check">
              <label for="morning" class="custom-checkbox">ì˜¤ì „</label>

              <input type="checkbox" id="afternoon" class="blue-check" checked>
              <label for="afternoon" class="custom-checkbox">ì˜¤í›„</label>

              <input type="checkbox" id="evening" class="blue-check">
              <label for="evening" class="custom-checkbox">ì €ë…</label>
            </div>
          </div>
        </div>

        <div class="filter-column">
          <div class="filter-group">
            <div class="filter-label">ì„±ë³„:</div>
            <div class="filter-options">
              <input type="radio" id="only_female" name="gender" class="blue-radio">
              <label for="only_female" class="custom-radio">only ì—¬</label>

              <input type="radio" id="only_male" name="gender" class="blue-radio" checked>
              <label for="only_male" class="custom-radio">only ë‚¨</label>

              <input type="radio" id="gender_any" name="gender" class="blue-radio">
              <label for="gender_any" class="custom-radio">ì„±ë³„ ë¬´ê´€</label>
            </div>
          </div>

          <!-- âœ… íƒ‘ìŠ¹ë°©ë²• ì¶”ê°€ -->
          <div class="filter-group">
            <div class="filter-label">íƒ‘ìŠ¹ë°©ë²•:</div>
            <div class="filter-options">
              <input type="radio" id="method-taxi" name="boarding_method" class="blue-radio" checked>
              <label for="method-taxi" class="custom-radio">íƒì‹œ ì •ë¥˜ì¥</label>

              <input type="radio" id="method-call" name="boarding_method" class="blue-radio">
              <label for="method-call" class="custom-radio">ê°œì¸íƒì‹œ ë¶€ë¥´ê¸°</label>
            </div>
          </div>

          <div class="filter-group">
            <div class="filter-label">* ë‚ ì§œ:</div>
            <div class="filter-options">
              <input type="date" id="date">
            </div>
          </div>

          <div class="submit-wrap">
            <button type="submit">ì™„ë£Œ</button>
          </div>
        </div>
      </div>
    </fieldset>
  </form>



<h2 style="
    text-align: center;
    border: 2px solid #ddd;
    border-radius: 12px;
    padding: 12px 24px;
    margin: 10px auto;
    width: fit-content;
    box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    background-color: white;
">
    í¬í•­ì—­â¡ï¸í•œë™ëŒ€ ğŸš•íƒì‹œíŒŸ ì°¾ê¸°
</h2>

<div>
    <h5 style="text-align: center; padding: 2px; margin: 10px 1060px 10px 223px;">
        ğŸ“…7/20
    </h5>
</div>


<section class="room-list-grid">


    <div class="room-card-onlyg" onclick="openPopup('', false)">
        <div class="room-time">ì˜¤ì „ 9:50</div>
        <div class="room-member">
            <img src="3.png" width="170" height="100">
        </div>
        <div class="room-tags">
            <ul>
                <li>ğŸ‘©</li>
                <li>ğŸ§³ì†Œ</li>
                <li>íƒ‘ìŠ¹ ë°©ë²•: íƒì‹œì •ë¥˜ì¥ </li>
                <li>ë°©ì¥: "í˜„ì¬ 3/4ëª…ì…ë‹ˆë‹¤!"</li>
            </ul>
        </div>
    </div>


    <div class="room-card-onlygm" onclick="openPopup('', false)">
        <div class="room-time">ì˜¤ì „ 11:45</div>
        <div class="room-member">
            <img src="16.png" width="170" height="100">
        </div>
        <div class="room-tags">
            <ul>
                <li>ğŸ‘¨ğŸ‘©</li>
                <li>ğŸ§³ì¤‘</li>
                <li>íƒ‘ìŠ¹ ë°©ë²•: íƒì‹œì •ë¥˜ì¥</li>
                <li>ë°©ì¥: "ì € ë¹¨ê°„ ë°˜íŒ” ì…ê³ ìˆìŠµë‹ˆë‹¤~"</li>
            </ul>
        </div>
    </div>


    <div class="room-card-onlygm" onclick="openPopup('', false)">
        <div class="room-time">ì˜¤ì „ 11:50</div>
        <div class="room-member">
            <img src="20.png" width="170" height="100">
        </div>
        <div class="room-tags">
            <ul>
                   <li>ğŸ‘¨ğŸ‘©</li>
                <li>íƒ‘ìŠ¹ ë°©ë²•: ê°œì¸íƒì‹œ ë¶€ë¦„ </li>
                <li>ë°©ì¥: "í¸í•˜ê²Œ ë“¤ì–´ì˜¤ì„¸ìš”"</li>
            </ul>
        </div>
    </div>


    <div class="room-card-onlygm" onclick="openPopup('', false)">
        <div class="room-time">ì˜¤í›„ 14:45</div>
        <div class="room-member">
            <img src="17.png" width="170" height="100">
        </div>
        <div class="room-tags">
            <ul>
                   <li>ğŸ‘¨ğŸ‘©</li>
                <li>ğŸ§³ì†ŒX2</li>
                <li>íƒ‘ìŠ¹ ë°©ë²•: íƒì‹œì •ë¥˜ì¥ </li>
                <li>ë°©ì¥: "ìºë¦¬ì–´ ì—†ìœ¼ì‹  ë¶„ í™˜ì˜"</li>
            </ul>
        </div>
    </div>


    <div class="room-card-onlym" onclick="openPopup('', false)">
        <div class="room-time">ì˜¤í›„ 15:30</div>
        <div class="room-member">
            <img src="18.png" width="170" height="100">
        </div>
        <div class="room-tags">
            <ul>
                   <li>ğŸ‘¨</li>
                <li>íƒ‘ìŠ¹ ë°©ë²•: ê°œì¸ íƒì‹œ ë¶€ë¦„ </li>
                <li>ë°©ì¥: "010-3020-2812 ëŠ¦ì§€ ë§ì•„ì£¼ì„¸ìš”!"</li>
            </ul>
        </div>
    </div>


    <div class="room-card-onlym" onclick="openPopup('', false)">
        <div class="room-time">ì˜¤í›„ 17:45</div>
        <div class="room-member">
            <img src="11.png" width="170" height="100">
        </div>
        <div class="room-tags">
            <ul>
                <li>ğŸ‘¨</li>
                <li>íƒ‘ìŠ¹ ë°©ë²•: ê°œì¸ íƒì‹œ ë¶€ë¦„ </li>
                <li>ë°©ì¥: "ì–´ì„œì˜¤ì„¸ìš”!"</li>
            </ul>
        </div>
    </div>


    <div class="room-card-onlyg" onclick="openPopup('', false)">
        <div class="room-time">ì˜¤í›„ 16:00</div>
        <div class="room-member">
            <img src="9.png" width="170" height="100">
        </div>
        <div class="room-tags">
            <ul>
                <li>ğŸ‘©</li>
                <li>íƒ‘ìŠ¹ ë°©ë²•: íƒì‹œì •ë¥˜ì¥</li>
                <li>ë°©ì¥: "ê¸‰êµ¬! í•œëª…ë§Œ ëª¨ì§‘í•©ë‹ˆë‹¤"</li>
            </ul>
        </div>
    </div>


    <div class="room-card-onlygm" onclick="openPopup('', false)">
        <div class="room-time">ì €ë… 19:40</div>
        <div class="room-member">
            <img src="3.png" width="170" height="100">
        </div>
        <div class="room-tags">
            <ul>
                <li>ğŸ‘¨ğŸ‘©</li>
                <li>ğŸ§³ì†Œ</li>
                <li>íƒ‘ìŠ¹ ë°©ë²•: íƒì‹œì •ë¥˜ì¥ </li>
                <li>ë°©ì¥: "í•™êµê°€ì‹¤ë¶„"</li>
            </ul>
        </div>
    </div>


    <div class="room-card-onlygm" onclick="openPopup('', false)">
        <div class="room-time">ì €ë… 20:40</div>
        <div class="room-member">
            <img src="17.png" width="170" height="100">
        </div>
        <div class="room-tags">
            <ul>
                <li>ğŸ‘¨ğŸ‘©</li>
                 <li>ğŸ§³ì†Œx2</li>
                <li>íƒ‘ìŠ¹ ë°©ë²•: íƒì‹œì •ë¥˜ì¥</li>
                <li>ë°©ì¥: "ìºë¦¬ì–´ ì‘ì€ ê±° í•œê°œ ê°€ëŠ¥í•©ë‹ˆë‹¤!"" </li>
            </ul>
        </div>
    </div>


    <div class="room-card-onlym" onclick="openPopup('', false)">
        <div class="room-time">ì €ë… 22:10</div>
        <div class="room-member">
            <img src="19.png" width="170" height="100">
        </div>
        <div class="room-tags">
            <ul>
                <li>ğŸ‘¨</li>
                 <li>ğŸ§³ì†Œx2</li>
                <li>íƒ‘ìŠ¹ ë°©ë²•: ê°œì¸íƒì‹œ ë¶€ë¦„ </li>
                <li>ë°©ì¥: "ë§ˆê°!"</li>
            </ul>
        </div>
    </div>


</section>
</body>
<div class="popup-overlay" id="popupOverlay">
  <div class="popup-box" id="popupBox"></div>
</div>

<style>
.popup-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background: rgba(0, 0, 0, 0.4);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 999;
}

.popup-box {
  background: white;
  padding: 24px;
  border-radius: 14px;
  width: 280px;
  text-align: center;
  box-shadow: 0 6px 16px rgba(0,0,0,0.2);
}

.popup-box h3 {
  margin-bottom: 16px;
}

.popup-box label {
  display: block;
  margin: 8px 0;
}

.popup-buttons {
  margin-top: 16px;
}

.popup-buttons button {
  padding: 8px 16px;
  margin: 0 8px;
  border: none;
  background-color: #007bff;
  color: white;
  border-radius: 8px;
  cursor: pointer;
}
</style>

<script>
let currentStep = 1;
let popupData = {};

function openPopup(sizesStr = '', hasLuggage = true) {
  currentStep = 1;
  popupData = {
    sizes: sizesStr.split(',').map(s => s.trim()).filter(Boolean),
    hasLuggage
    
  };
  document.getElementById('popupOverlay').style.display = 'flex';

  // ìƒí™© íŒë‹¨í•´ì„œ ë‹¨ê³„ ì¡°ì ˆ
  if (!hasLuggage) {
    goToChat(); // ìºë¦¬ì–´ ì—†ìœ¼ë©´ ë°”ë¡œ ì±„íŒ…ë°© ì´ë™
  } else if (popupData.sizes.length === 1) {
    showStep(1); // ìœ ë¬´ í™•ì¸ë§Œ í•˜ê³  ë°”ë¡œ ì±„íŒ…ë°©
  } else {
    showStep(1); // ìœ ë¬´ â†’ ì‚¬ì´ì¦ˆ â†’ ì±„íŒ…ë°©
  }
}

function showStep(step) {
  const popupBox = document.getElementById('popupBox');

  if (step === 1) {
    popupBox.innerHTML = `
      <h3>ìºë¦¬ì–´ê°€ ìˆë‚˜ìš”?</h3>
      <label><input type="radio" name="hasLuggageInput" value="yes"> O</label>
      <label><input type="radio" name="hasLuggageInput" value="no"> X</label>
      <div class="popup-buttons">
        <button onclick="handleStep1()">ë‹¤ìŒ</button>
      </div>
    `;
  }

  if (step === 2) {
    popupBox.innerHTML = `
  <h3>ìºë¦¬ì–´ ì‚¬ì´ì¦ˆ ì„ íƒ</h3>
  ${popupData.sizes.map(size => `
    <label><input type="radio" name="sizeOption" value="${size}"> ${size}</label>
  `).join('')}
  <div class="popup-buttons">
    <button onclick="handleStep2()">ì±„íŒ…ë°© ì…ì¥</button>
  </div>
`;
  }
}

function handleStep1() {
  const value = document.querySelector('input[name="hasLuggageInput"]:checked');

  if (!value) {
    alert("ìºë¦¬ì–´ ìœ ë¬´ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!");
    return; // ì„ íƒ ì•ˆ í–ˆìœ¼ë©´ í•¨ìˆ˜ ì¤‘ë‹¨
  }

  const selected = value.value;

  if (selected === "no") {
    goToChat();
  } else {
    if (popupData.sizes.length === 1) {
      goToChat();
    } else {
      showStep(2);
    }
  }
}

function handleStep2() {
  const selectedSize = document.querySelector('input[name="sizeOption"]:checked');

  if (!selectedSize) {
    alert("ìºë¦¬ì–´ ì‚¬ì´ì¦ˆë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!");
    return;
  }

  // í•„ìš” ì‹œ selectedSize.value ì‚¬ìš© ê°€ëŠ¥
  goToChat();
}


function goToChat() {
  // ì±„íŒ…ë°©ìœ¼ë¡œ ì´ë™ (ìˆ˜ì • í•„ìš”!)
  window.location.href = "chat.html";
}

function closePopup() {
  document.getElementById('popupOverlay').style.display = 'none';
}
</script>

</body>
</html>
